<!DOCTYPE html>
<html>
<head>
    <title>Farming Simulation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    
    <div class="main-container">
        <!-- Header Section -->
        <div class="game-header">
            <div class="logo">ğŸšœ</div>
            <h1 class="game-title">FarmingSIM</h1>
        </div>

        <div class="farm-grid" id="farm-grid">
        </div>
        
        <!-- Bottom Right Menu Squares -->
        <div class="menu-squares">
            <button class="menu-square" data-modal="resources">
                <span class="square-icon">ğŸª™</span>
                <span class="square-label">Resources</span>
            </button>
            <button class="menu-square" data-modal="buildings">
                <span class="square-icon">ğŸ </span>
                <span class="square-label">Buildings</span>
            </button>
            <button class="menu-square" data-modal="animals">
                <span class="square-icon">ğŸ„</span>
                <span class="square-label">Animals</span>
            </button>
            <button class="menu-square" data-modal="actions">
                <span class="square-icon">ğŸŒ±</span>
                <span class="square-label">Actions</span>
            </button>
            <button class="menu-square" data-modal="production">
                <span class="square-icon">ğŸ“Š</span>
                <span class="square-label">Production</span>
            </button>
            <button class="menu-square" data-modal="info">
                <span class="square-icon">â„¹ï¸</span>
                <span class="square-label">Info</span>
            </button>
        </div>
    </div>

    <!-- Modal Windows -->
    <!-- Resources Modal -->
    <div id="resources-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Resources</h3>
                <span class="close-btn" data-modal="resources">&times;</span>
            </div>
            <div class="modal-body">
                <div class="resource-item">
                    <span class="resource-icon">ğŸª™</span>
                    <span class="resource-name">Gold:</span>
                    <span class="resource-amount" id="gold-amount">{{ resources.gold }}</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">ğŸªµ</span>
                    <span class="resource-name">Wood:</span>
                    <span class="resource-amount" id="wood-amount">{{ resources.wood }}</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">ğŸª¨</span>
                    <span class="resource-name">Stone:</span>
                    <span class="resource-amount" id="stone-amount">{{ resources.stone }}</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">ğŸ</span>
                    <span class="resource-name">Food:</span>
                    <span class="resource-amount" id="food-amount">{{ resources.food }}</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">ğŸŒ±</span>
                    <span class="resource-name">Seeds:</span>
                    <span class="resource-amount" id="seeds-amount">{{ resources.seeds }}</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">ğŸ’§</span>
                    <span class="resource-name">Water:</span>
                    <span class="resource-amount" id="water-amount">{{ resources.water }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Buildings Modal -->
    <div id="buildings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Buildings</h3>
                <span class="close-btn" data-modal="buildings">&times;</span>
            </div>
            <div class="modal-body">
                <div class="building-grid">
                    <button class="building-btn" data-building="house">
                        <span class="building-icon">ğŸ </span>
                        <span class="building-name">House</span>
                        <span class="building-cost">50ğŸªµ 30ğŸª¨</span>
                    </button>
                    <button class="building-btn" data-building="barn">
                        <span class="building-icon">ğŸšï¸</span>
                        <span class="building-name">Barn</span>
                        <span class="building-cost">75ğŸªµ 50ğŸª¨</span>
                    </button>
                    <button class="building-btn" data-building="well">
                        <span class="building-icon">â›²</span>
                        <span class="building-name">Well</span>
                        <span class="building-cost">100ğŸª¨ 50ğŸª™</span>
                    </button>
                    <button class="building-btn" data-building="fence">
                        <span class="building-icon">ğŸªµ</span>
                        <span class="building-name">Fence</span>
                        <span class="building-cost">10ğŸªµ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Animals Modal -->
    <div id="animals-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Animals</h3>
                <span class="close-btn" data-modal="animals">&times;</span>
            </div>
            <div class="modal-body">
                <div class="animal-controls">
                    <button class="animal-btn" data-animal="cow">
                        <span class="animal-icon">ğŸ„</span>
                        <span class="animal-name">Cow</span>
                        <span class="animal-cost">150ğŸª™</span>
                    </button>
                    <button class="animal-btn" data-animal="chicken">
                        <span class="animal-icon">ğŸ”</span>
                        <span class="animal-name">Chicken</span>
                        <span class="animal-cost">50ğŸª™</span>
                    </button>
                    <button class="animal-btn" data-animal="sheep">
                        <span class="animal-icon">ğŸ‘</span>
                        <span class="animal-name">Sheep</span>
                        <span class="animal-cost">100ğŸª™</span>
                    </button>
                </div>
                <div class="animal-info">
                    <h4>Farm Animals</h4>
                    <div class="animal-count">
                        <span>ğŸ„ Cows: <span id="cow-count">{{ animals.cows }}</span></span>
                        <span>ğŸ” Chickens: <span id="chicken-count">{{ animals.chickens }}</span></span>
                        <span>ğŸ‘ Sheep: <span id="sheep-count">{{ animals.sheep }}</span></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Actions Modal -->
    <div id="actions-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Actions</h3>
                <span class="close-btn" data-modal="actions">&times;</span>
            </div>
            <div class="modal-body">
                <div class="action-buttons">
                    <button class="action-btn plant-btn">
                        <span class="action-icon">ğŸŒ±</span>
                        <span>Plant Seeds</span>
                    </button>
                    <button class="action-btn harvest-btn">
                        <span class="action-icon">ğŸŒ¾</span>
                        <span>Harvest</span>
                    </button>
                    <button class="action-btn water-btn">
                        <span class="action-icon">ğŸ’§</span>
                        <span>Water</span>
                    </button>
                    <button class="action-btn clear-btn">
                        <span class="action-icon">ğŸ—‘ï¸</span>
                        <span>Clear Land</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Production Modal -->
    <div id="production-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Production</h3>
                <span class="close-btn" data-modal="production">&times;</span>
            </div>
            <div class="modal-body">
                <div class="production-item">
                    <span class="production-icon">ğŸ¥›</span>
                    <span class="production-name">Milk/day:</span>
                    <span class="production-amount">+12</span>
                </div>
                <div class="production-item">
                    <span class="production-icon">ğŸ¥š</span>
                    <span class="production-name">Eggs/day:</span>
                    <span class="production-amount">+8</span>
                </div>
                <div class="production-item">
                    <span class="production-icon">ğŸ§¶</span>
                    <span class="production-name">Wool/day:</span>
                    <span class="production-amount">+4</span>
                </div>
                <div class="production-item">
                    <span class="production-icon">ğŸŒ¾</span>
                    <span class="production-name">Crops/day:</span>
                    <span class="production-amount">+15</span>
                </div>
                <div class="production-item">
                    <span class="production-icon">ğŸª™</span>
                    <span class="production-name">Income/day:</span>
                    <span class="production-amount">+245</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="info-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Game Info</h3>
                <span class="close-btn" data-modal="info">&times;</span>
            </div>
            <div class="modal-body">
                <div class="game-status">
                    <p>Day: <span id="current-day">{{ game_info.day }}</span></p>
                    <p>Season: <span id="current-season">{{ game_info.season }}</span></p>
                    <p>Farm Level: <span id="farm-level">{{ game_info.farm_level }}</span></p>
                </div>
                <button class="save-btn">ğŸ’¾ Save Game</button>
                <button class="menu-btn">âš™ï¸ Settings</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Farm area - no grid squares, just clean background

            // Modal functionality
            const menuSquares = document.querySelectorAll('.menu-square');
            const modals = document.querySelectorAll('.modal');
            const closeBtns = document.querySelectorAll('.close-btn');

            // Open modal when menu square is clicked
            menuSquares.forEach(square => {
                square.addEventListener('click', function() {
                    const modalId = this.getAttribute('data-modal') + '-modal';
                    const modal = document.getElementById(modalId);
                    
                    // Close all other modals first
                    modals.forEach(m => m.style.display = 'none');
                    
                    // Open the selected modal
                    modal.style.display = 'block';
                });
            });

            // Close modal when close button is clicked
            closeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const modalId = this.getAttribute('data-modal') + '-modal';
                    const modal = document.getElementById(modalId);
                    modal.style.display = 'none';
                });
            });

            // Close modal when clicking outside of modal content
            modals.forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            });

            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    modals.forEach(modal => modal.style.display = 'none');
                }
            });
        });
    </script>

</body>
</html>
